{"version":3,"sources":["services/numbers.js","components/Name.js","App.js","index.js"],"names":["baseUrl","numbers","axios","get","then","response","data","newObject","post","id","put","concat","delete","Name","_ref","name","number","del_entry","react_default","a","createElement","onClick","Notification","message","includes","className","App","_useState","useState","_useState2","Object","slicedToArray","persons","setPersons","_useState3","_useState4","newName","setNewName","_useState5","_useState6","newNumber","setNewNumber","_useState7","_useState8","searchQuery","setSearchQuery","_useState9","_useState10","nameDupe","setNameDupe","_useState11","_useState12","numDupe","setNumDupe","_useState13","_useState14","statusMessage","setStatusMessage","useEffect","numberService","initialNumbers","console","log","length","_useState15","_useState16","personsSearched","filter","person","toUpperCase","App_Notification","value","onChange","event","target","onSubmit","preventDefault","nameObject","returnedName","setTimeout","window","confirm","find","n","returnedNote","map","p","alert","forEach","item","index","array","type","components_Name","key","catch","error","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.19de5c63.chunk.js","sourcesContent":["import axios from 'axios'\n//const baseUrl = 'http://localhost:3001/names'\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n  const request = axios.get(baseUrl)\n  return request.then(response => response.data)\n}\n\nconst create = newObject => {\n  const request = axios.post(baseUrl, newObject)\n  return request.then(response => response.data)\n}\n\nconst update = (id, newObject) => {\n  const request = axios.put(`${baseUrl}/${id}`, newObject)\n  return request.then(response => response.data)\n}\n\nconst del = (id) => {\n  const request = axios.delete(`${baseUrl}/${id}`)\n  return request.then(response => response.data)\n}\n\nexport default { getAll, create, update, del }","import React from 'react'\nimport numberService from '.././services/numbers'\nimport del_entry from '../App'\n\nconst Name = ({ name, number, del_entry }) => {\n\n  return (\n\t<li>\n\t\t{name}: {number}\n\t\t<button onClick={del_entry}>delete</button>\n\t</li>\n  )\n}\n\nexport default Name","import React, { useState, useEffect } from 'react'\nimport axios from 'axios'\nimport Name from './components/Name'\nimport numberService from './services/numbers'\n\nconst App = () => {\n  \n  const [ persons, setPersons] = useState([])\n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [ searchQuery, setSearchQuery ] = useState('')\n  const [ nameDupe, setNameDupe ] = useState(true)\n  const [ numDupe, setNumDupe ] = useState(true)\n  const [statusMessage, setStatusMessage] = useState(null)\n  \n  useEffect(() => {\n\t  numberService\n\t\t  .getAll()\n\t\t  .then(initialNumbers => {\n\t\t  setPersons(initialNumbers)\n      })\n  }, []) //empty array means useEffect only runs once on render\n  console.log('render', persons.length, 'people')\n  \n  const addPerson = (event) => {\n\t  event.preventDefault()\n\t  const nameObject = {name: newName, number: newNumber}\n      if(nameDupe===true)\n\t  {\n\t\t  setPersons(persons.concat(nameObject))\n\t\t  numberService\n\t\t\t.create(nameObject)\n\t\t\t.then(returnedName => {\n\t\t\tsetPersons(persons.concat(returnedName))\n\t\t\t})\n/*            \n            .catch(error => {\n              // this is the way to access the error message\n              console.log(error.response.data)\n              setStatusMessage(error.response.data.error)\n            })\n*/\n\t\t  setStatusMessage(\n\t\t\t`Added ` + newName\n\t\t\t)\n\t\t  setTimeout(() => {\n\t\t\t  setStatusMessage(null)\n\t\t  }, 5000)\n      }\n      else if(nameDupe===false && numDupe ===true)\n\t  {\n\t\tif( window.confirm(newName + 'is already added to the phonebook, would you like to replace the old number with a new one?'))\n\t\t{\n\t\t\tnumberService\n\t\t\t\t.update((persons.find(n => n.name === newName)).id, nameObject)\n\t\t\t\t.then(returnedNote => {\n\t\t\t\t\tsetPersons(persons.map(p => p.id !== ((persons.find(n => n.name === newName)).id) ? p : nameObject))\n\t\t\t\t})\n\t\t}\n\t  }\n\t  else window.alert(newName + ' is already added to phonebook')\n\t  setNewName('')\n\t  setNewNumber('')\n  }\n  \n  const [showAll, setShowAll] = useState(true)\n  const personsSearched = persons.filter(person => (person.name).toUpperCase().includes(searchQuery.toUpperCase()))\n\n  const handleNameChange = (event) => {\n\tsetNewName(event.target.value)\n\tsetNameDupe(true)\n\tpersons.forEach(function(item, index, array) {\n\t\tif( item.name === event.target.value)\n\t\t{\n\t\t\tsetNameDupe(false)\n\t\t}\n\t})\n  }\n\n  const handleNumberChange = (event) => {\n\tsetNewNumber(event.target.value)\n\tsetNumDupe(true)\n\tpersons.forEach(function(item, index, array) {\n\t\tif( item.number === event.target.value)\n\t\t{\n\t\t\tsetNumDupe(false)\n\t\t}\n\t})\n  }\n  \n  const handleSearch = (event) => {\n\tsetSearchQuery(event.target.value)\n  }\n  \n  const del_entryOf = (id, name) => {\n\t\tif( window.confirm(\"Do you really want to delete this entry?\"))\n\t\t{\n\t\t\tnumberService\n\t\t\t\t.del(id)\n\t\t\t\t.then(setPersons(persons.filter(person => person.id !== id)))\n\t\t\t.catch(error => {\n\t\t\t\tsetStatusMessage(\n\t\t\t\t\tname + ` has already been removed from the server`\n\t\t\t\t)\n\t\t\t    setTimeout(() => {\n\t\t\t\t  setStatusMessage(null)\n\t\t\t\t}, 5000)\n\t\t\t})\n\t\t}\n\t}\n\n  const rows = () => personsSearched.map(person =>\n\t<Name\n\t  key={person.name}\n\t  name={person.name}\n\t  number={person.number}\n\t  del_entry={() => del_entryOf(person.id, person.name)}\n\t/>\n  )\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n\t  <Notification message={statusMessage} />\n\t  <form>\n\t\t<div>\n\t\t  filter shown with <input \n\t\t\tvalue={searchQuery} \n\t\t\tonChange={handleSearch}\n\t\t\t/>\n\t\t</div>\n\t  </form>\n\t  <h2>Add a New Number</h2>\n      <form onSubmit={addPerson}>\n        <div>\n          name: <input \n\t\t\tvalue={newName} \n\t\t\tonChange={handleNameChange}\n\t\t  />\n        </div>\n\t\t<div>\n\t\t  number: <input \n\t\t\tvalue={newNumber}\n\t\t\tonChange={handleNumberChange}\n\t\t  />\n\t\t</div>\n        <div>\n          <button type=\"submit\">add</button>\n        </div>\n      </form>\n      <h2>Numbers</h2>\n      {rows()}\n    </div>\n  )\n}\n\nconst Notification = ({ message }) => {\n  if (message === null) {\n    return null\n  }\n  if (message.includes('Added'))\n  {\n\treturn (\n\t\t<div className=\"ok\">\n\t\t\t{message}\n\t\t</div>\n\t)\n  }\n  if (message.includes('server'))\n  {\n\treturn (\n\t\t<div className=\"error\">\n\t\t\t{message}\n\t\t</div>\n\t)\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css';\n\nReactDOM.render(<App />, document.getElementById('root'));"],"sourceRoot":""}